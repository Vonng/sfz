# PostgreSQL + 身份证号

本项目提供了一系列用于处理身份证号的PostgreSQL存储过程。

详细内容：[sql/api.sql](sql/api.sql)


## 身份证ID结构说明

身份证号包含的信息：
* 空间：6位行政区划
* 时间：出生日期8位（二代），6位（一代）
* 顺序：同地区同日期内出生人的序号
* 性别：奇数顺序码为男性，偶数为女性
* 校验吗：对前17位校验求和模11的余数，余10则为X

**一代身份证**

长度为15位整数，由三部分组成：

6位区划，6位生日，3位序号
32??22 - 731??3 - 001

**二代身份证**

长度为18位整数，由四部分组成：

6位区划， 8位生日，  3位序号，1位校验码
44??08 - 199???10 - 151 - 2

## 基本功能
* 信息提取
  * 区划代码
  * 出生日期
  * 序列号
  * 性别
  * 校验和
* 形式验证
  * 是否合法一代证号
  * 是否合法二代证号
  * 计算校验和
* 拼接创建：
  * 升级一代证号
  * 创建新二代证号
  * 生成随机合规二代证号


